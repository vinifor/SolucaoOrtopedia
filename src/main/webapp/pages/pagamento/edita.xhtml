<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="/template/template.xhtml">
        <ui:define name="content">
            <h:form id="form">
                <div class="ui-fluid ui-g">
                    <p:panel header="Pagamento" style="width: 100%">
                        <div class="ui-g-12">
                            <div class="ui-g-12 ui-lg-8 ui-md-8 ui-sm-12">
                                <div class="md-inputfield md-inputfield-fill">
                                    <p:inputText id="nomeTitular" value="#{pagamentoController.pagamento.nomeTitular}"
                                                 required="true" requiredMessage="Digite o Nome do Titular"/>
                                    <p:outputLabel for="nomeTitular" value="Nome do Titular" />
                                </div>
                            </div>

                            <div class="ui-g-12 ui-lg-4 ui-md-4 ui-sm-12">
                                <div class="md-inputfield md-inputfield-fill">
                                    <p:datePicker id="dataValidade" value="#{pagamentoController.pagamento.dataValidade}"
                                                  required="true" requiredMessage="Escolha a data de validade"
                                                  pattern="MM/yyyy" view="month" yearNavigator="true"/>
                                    <p:outputLabel for="dataValidade" value="Data de Validade" />
                                </div>
                            </div>
                        </div>

                        <div class="ui-g-12">
                            <div class="ui-g-12 ui-lg-4 ui-md-4 ui-sm-12">
                                <div class="md-inputfield md-inputfield-fill">
                                    <p:inputMask id="numeroCartao" value="#{pagamentoController.pagamento.numeroCartao}"
                                                 required="true" requiredMessage="Digite o Número do Cartão"
                                                 mask="9999 9999 9999 9999" >
                                        <p:ajax event="change" listener="#{pagamentoController.encontraBandeira()}"
                                                process="@this" update="bandeira"/>
                                    </p:inputMask>
                                    <p:outputLabel for="numeroCartao" value="Número do Cartão" />
                                </div>
                            </div>

                            <div class="ui-g-12 ui-lg-4 ui-md-4 ui-sm-12">
                                <div class="md-inputfield md-inputfield-fill">
                                    <p:inputText id="bandeira" value="#{pagamentoController.pagamento.bandeira.nome}"
                                                 readonly="true"/>
                                    <p:outputLabel for="bandeira" value="Bandeira" />
                                </div>
                            </div>

                            <div class="ui-g-12 ui-lg-4 ui-md-4 ui-sm-12">
                                <div class="md-inputfield md-inputfield-fill">
                                    <p:inputText id="codigoSeguranca" value="#{pagamentoController.pagamento.codigoSeguranca}"
                                                 required="true" requiredMessage="Digite o Código de Segurança"/>
                                    <p:outputLabel for="codigoSeguranca" value="Código de Segurança (CVV)" />
                                </div>
                            </div>

                        </div>

                        <div class="ui-g-12">
                            <div class="ui-g-12 ui-lg-6 ui-md-6 ui-sm-6">
                                <p:commandButton value="Cancelar" actionListener="#{pagamentoController.cancela()}"
                                                 class="secondary-btn" process="@this"/>
                            </div>
                            <div class="ui-g-12 ui-lg-6 ui-md-6 ui-sm-6">
                                <p:commandButton value="Pagar" actionListener="#{pagamentoController.salva()}"
                                                 update="form"/>
                            </div>
                        </div>
                    </p:panel>
                </div>
            </h:form>
        </ui:define>
    </ui:composition>
</html>